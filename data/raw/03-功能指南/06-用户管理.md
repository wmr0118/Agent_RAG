# 用户管理功能详解

## 功能概述

用户管理模块提供完整的用户账户管理功能，包括创建、编辑、删除用户，以及权限分配和批量操作。适用于企业多用户协作场景，支持LDAP集成和SSO单点登录。

## 创建用户账户

### 操作步骤

1. 登录管理后台
2. 进入"用户管理"页面
3. 点击右上角"新建用户"按钮
4. 在弹出的表单中填写用户信息：
   - **用户名**（必填）：3-20个字符，支持字母、数字和下划线，不能与现有用户重复
   - **邮箱**（必填）：需要验证的有效邮箱地址，将作为登录账号
   - **密码**（必填）：至少8位，包含大小写字母和数字
   - **手机号**（可选）：用于接收短信通知和二次验证
   - **角色**（必填）：选择管理员、编辑者或查看者
5. 点击"保存"按钮完成创建
6. 新用户将收到激活邮件，点击邮件中的链接完成账户激活

### 注意事项

- 用户名一旦创建不可修改，请谨慎填写
- 邮箱地址必须唯一，不能重复使用
- 密码强度要求：至少8位，包含大小写字母和数字
- 新用户首次登录需要修改密码

## 编辑用户信息

### 修改基本信息

在用户列表中点击用户名称，进入用户详情页面。可以修改：

- 显示名称
- 手机号
- 头像
- 个人简介

用户名和邮箱不可修改。

### 修改密码

管理员可以在用户详情页面的"安全设置"标签中重置用户密码。重置后用户会收到邮件通知，需要重新设置密码。

### 修改角色和权限

在用户详情页面的"权限"标签中，可以修改用户角色。修改后立即生效，用户需要重新登录才能看到新的权限。

## 权限管理

### 角色说明

系统提供三种预定义角色：

- **管理员**：拥有所有权限，包括用户管理、系统配置、数据导出、API密钥管理
- **编辑者**：可以编辑内容、创建工单、查看报表、管理知识库，但不能修改系统设置
- **查看者**：只能查看内容，无法进行任何修改操作，适合只读需求的用户

### 自定义权限

企业版支持自定义角色和权限组合。管理员可以在"角色管理"页面创建新角色，选择需要的权限项。

### 权限继承

如果用户属于多个角色，权限会取并集。例如用户同时是"编辑者"和"数据分析员"，则拥有两个角色的所有权限。

## 批量操作

### 批量导入用户

支持通过CSV文件批量导入用户：

1. 下载CSV模板文件
2. 按照模板格式填写用户信息
3. 在用户管理页面点击"批量导入"
4. 选择CSV文件并上传
5. 系统会验证格式并显示预览
6. 确认后执行导入，成功和失败的记录会分别显示

CSV格式要求：
- 第一行为表头：用户名、邮箱、密码、角色
- 后续每行为一条用户记录
- 密码可以为空，系统会生成随机密码并发送邮件

### 批量删除用户

在用户列表中勾选多个用户，点击"批量删除"按钮。删除前会要求确认，删除后用户数据会被标记为已删除，30天后彻底清除。

### 批量修改角色

选中多个用户后，可以批量修改角色。操作会立即生效。

## 用户状态管理

### 账户状态

用户账户有以下状态：

- **正常**：可以正常登录和使用
- **已禁用**：无法登录，但数据保留
- **待激活**：已创建但未激活邮箱
- **已删除**：标记为删除，30天后彻底清除

### 禁用和启用

管理员可以在用户详情页面禁用或启用用户账户。禁用后用户无法登录，但历史数据保留。

## LDAP集成

企业版支持LDAP目录集成：

1. 在"系统设置"中配置LDAP服务器地址、端口、Base DN
2. 配置管理员账号和密码
3. 测试连接
4. 启用LDAP同步
5. 系统会定期同步LDAP中的用户信息

LDAP用户可以使用企业账号直接登录，无需单独创建账户。

